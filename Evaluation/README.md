# Evaluation Pipeline for Vehicle Tracking Results

## Introduction
This bash script, `evaluate_tracking.sh`, automates the evaluation of vehicle tracking results against ground truth data, likely for the AI Cup competition or similar vehicle tracking tasks. It processes tracking results generated by a re-identification (ReID) pipeline, converts both tracking results and ground truth labels from the AICUP format to the MOT15 format, and evaluates tracking performance using standard metrics such as Multiple Object Tracking Accuracy (MOTA). The script is designed to ensure compatibility with the MOT15 evaluation framework by preparing and organizing the necessary data.

## Purpose
The script serves to streamline the evaluation process for vehicle tracking in low-frame-rate scenarios, such as those encountered in traffic surveillance or security applications. It performs the following key tasks:
- **Copy Tracking Results**: Moves ReID tracking results from `merge_labels` to a directory named `labels` to meet the requirements of the conversion script.
- **Clear Output Directories**: Ensures that output directories for converted results are empty to avoid conflicts with previous runs.
- **Convert Formats**: Transforms both tracking results and ground truth labels from AICUP format to MOT15 format, a standard for multi-object tracking evaluation.
- **Evaluate Performance**: Compares the converted tracking results against ground truth to compute performance metrics.

This pipeline is critical for researchers and developers who need to evaluate tracking algorithms systematically, ensuring that results are in a standardized format compatible with MOT15 evaluation tools.

## Prerequisites
Before running the script, ensure the following requirements are met:
- **Directory Structure**:
  - **Tracking Results**: Located in `/home/eddy/Desktop/MasterThesis/mainProgram/reid_tracking/merge_labels/`, containing the output of a ReID tracking pipeline in AICUP format.
  - **Ground Truth Labels**: Located in `/home/eddy/Desktop/train/test/labels/`, containing ground truth annotations in AICUP format.
  - **Output Directories**:
    - `/home/eddy/Desktop/MasterThesis/mainProgram/ts_results/`: For converted tracking results in MOT15 format.
    - `/home/eddy/Desktop/MasterThesis/mainProgram/gt_results/`: For converted ground truth in MOT15 format.
- **Python Scripts**:
  - `/home/eddy/Desktop/MasterThesis/mainProgram/tools/datasets/AICUP_to_MOT15.py`: Converts AICUP format to MOT15 format.
  - `/home/eddy/Desktop/MasterThesis/mainProgram/tools/evaluate.py`: Evaluates tracking performance using MOT15-formatted data.
- **Python Environment**: A Python environment with necessary libraries (e.g., NumPy, Pandas, or others required by the Python scripts) must be set up. Ensure Python 3 is installed, and check the specific requirements of `AICUP_to_MOT15.py` and `evaluate.py`.
- **Permissions**: The script must have execute permissions (`chmod +x evaluate_tracking.sh`).

| Requirement | Path/Description |
|-------------|------------------|
| Tracking Results | `/home/eddy/Desktop/MasterThesis/mainProgram/reid_tracking/merge_labels/` |
| Ground Truth Labels | `/home/eddy/Desktop/train/test/labels/` |
| Conversion Script | `/home/eddy/Desktop/MasterThesis/mainProgram/tools/datasets/AICUP_to_MOT15.py` |
| Evaluation Script | `/home/eddy/Desktop/MasterThesis/mainProgram/tools/evaluate.py` |
| Output Directory (Tracking) | `/home/eddy/Desktop/MasterThesis/mainProgram/ts_results/` |
| Output Directory (Ground Truth) | `/home/eddy/Desktop/MasterThesis/mainProgram/gt_results/` |

## Usage
To execute the evaluation pipeline, run the script from the command line:

```bash
bash evaluate_tracking.sh
```

Ensure the script is executable. If not, grant permissions using:
```bash
chmod +x evaluate_tracking.sh
```

### Steps Performed
The script executes the following steps in sequence:

1. **Copy Tracking Results**:
   - Copies all files from `SOURCE_LABELS` (`/home/eddy/Desktop/MasterThesis/mainProgram/reid_tracking/merge_labels/`) to `TARGET_LABELS` (`/home/eddy/Desktop/MasterThesis/mainProgram/reid_tracking/labels/`).
   - This step is necessary because the conversion script `AICUP_to_MOT15.py` expects the input directory to be named `labels`, not `merge_labels`. The tracking results from the ReID pipeline are stored in `merge_labels` and must be copied to meet this requirement.

2. **Clear Output Directories**:
   - Clears the contents of `TS_RESULTS_DIR` (`/home/eddy/Desktop/MasterThesis/mainProgram/ts_results/`) and `GT_RESULT_DIR` (`/home/eddy/Desktop/MasterThesis/mainProgram/gt_results/`) to ensure no residual files interfere with the new conversion results.

3. **Convert Tracking Results to MOT15 Format**:
   - Runs `AICUP_to_MOT15.py` with `--AICUP_dir` set to `/home/eddy/Desktop/MasterThesis/mainProgram/reid_tracking/labels/` and `--MOT15_dir` set to `TS_RESULTS_DIR`.
   - Converts the tracking results from AICUP format to MOT15 format, saving the output in `ts_results`.

4. **Convert Ground Truth to MOT15 Format**:
   - Runs `AICUP_to_MOT15.py` with `--AICUP_dir` set to `/home/eddy/Desktop/train/test/labels/` and `--MOT15_dir` set to `GT_RESULT_DIR`.
   - Converts the ground truth labels from AICUP format to MOT15 format, saving the output in `gt_results`.

5. **Evaluate Tracking Performance**:
   - Runs `evaluate.py` with `--gt_dir` set to `GT_RESULT_DIR` and `--ts_dir` set to `TS_RESULTS_DIR`.
   - Computes tracking performance metrics (e.g., MOTA, MOTP) by comparing the converted tracking results against the ground truth.

### Example Command
If the script is located at `/home/eddy/Desktop/MasterThesis/mainProgram/evaluate_tracking.sh`, run:
```bash
bash /home/eddy/Desktop/MasterThesis/mainProgram/evaluate_tracking.sh
```
